<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('./partials/head.ejs')  %>
    <link rel="stylesheet" href="/css/bgcolor.css">
    <link rel="stylesheet" href="/css/navstyles.css">
    <link rel="stylesheet" href="/css/home.css">
    <title>Home Page</title>
</head>
<body>
    <%- include('./partials/nav.ejs') %>

    <div class="bgblue bodycont">
        <div class="container boxgap">
            <h1 class="page-title">Latest Blogs</h1> <!-- Added title for context -->
            <div class="row">
                <div class="col-md-8"> <!-- Main blog section -->
                    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"> <!-- Responsive columns -->
                        <% blogs.forEach(blog => { %>
                        <div class="col">
                            <div class="card h-100 shadow-sm"> <!-- Added shadow for depth -->
                                <img src="<%= blog.coverImage %>" class="card-img-top" alt="<%= blog.title %>"> <!-- Blog image -->
                                <div class="card-body d-flex flex-column"> <!-- Flexbox for card body -->
                                    <h5 class="card-title"><%= blog.title %></h5>
                                    <p class="card-text"><%= blog.description ? blog.description : 'No description available.' %></p> <!-- Added description -->
                                    <a href="/api/v1/user/blog/<%= blog._id %>" class="btn btn-primary mt-auto">View</a> <!-- Button at the bottom -->
                                </div>
                            </div>
                        </div>
                        <% }) %>
                    </div>
                </div>

                <div class="col-md-4"> <!-- Sidebar for categories -->
                    <div class="categories-sidebar">
                        <h3>Categories</h3>
                        <ul class="categories-list">
                            <% categories.forEach(category => { %> <!-- Assuming you have a categories array -->
                                <li><a href="/categories/<%= category.slug %>"><%= category.name %></a></li>
                            <% }) %>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <%- include('./partials/scripts.ejs') %>
</body>
</html>
